<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Question 6</h1>
    <script>
        var input = {
            '1': {
                id: 1,
                name: 'John',
                children: [
                { id: 2, name: 'Sally' },
                { id: 3, name: 'Mark', children: [{ id: 4, name: 'Harry' }] }
                ]
            },
            '5': {
                id: 5,
                name: 'Mike',
                children: [{ id: 6, name: 'Peter' }]
            }
        };



        var output = {};

            function arrange1(node) {
            var obj = {};
            obj[node.id] = {
                id: node.id,
                name: node.name
            };
            if (node.children) {
                obj[node.id].children = node.children.map(function(child) {
                return child.id;
                });
                node.children.forEach(function(child) {
                Object.assign(obj, arrange1(child));
                });
            }
            return obj;
            }

            for (var key in input) {
            Object.assign(output, arrange1(input[key]));
            }

            console.log(output);




    </script>
</body>
</html>